classDiagram
    class User {
        -int id
        -string name
        -string email
        -string password
        -float balance
        -datetime createdAt
        -datetime updatedAt
        +makeReservation(Seat seat) Reservation
        +processTransaction(float amount, TransactionType type) Transaction
        +getBalance() float
        +updateBalance(float amount) void
    }

    class Token {
        -int id
        -int userId
        -string token
        -datetime expiredAt
        -boolean isValid
        -datetime createdAt
        +isExpired() boolean
        +validateToken() boolean
    }

    class Concert {
        -int id
        -string name
        -string description
        -ConcertStatus status
        +getSchedules() List~Schedule~
        +open() void
        +close() void
    }

    class Schedule {
        -int id
        -int concertId
        -date scheduleDate
        -time startTime
        +getSeats() List~Seat~
        +getAvailableSeats() List~Seat~
    }

    class Seat {
        -int id
        -int scheduleId
        -string seatNumber
        -float price
        -SeatStatus status
        +reserve() boolean
        +release() void
        +isAvailable() boolean
    }

    class Reservation {
        -int id
        -int userId
        -int seatId
        -int transactionId
        -ReservationStatus status
        -datetime reservedAt
        -datetime expiredAt
        +complete() void
        +cancel() void
        +isExpired() boolean
    }

    class Transaction {
        -int id
        -int userId
        -TransactionType type
        -float amount
        -TransactionStatus status
        -datetime processedAt
        +process() boolean
        +getStatus() TransactionStatus
    }

    class SeatStatus {
        <<enumeration>>
        AVAILABLE
        RESERVED
    }

    class ReservationStatus {
        <<enumeration>>
        SUCCESS
        FAILED
    }

    class TransactionType {
        <<enumeration>>
        PAYMENT
        CHARGE
    }

    class TransactionStatus {
        <<enumeration>>
        SUCCESS
        FAILED
        PENDING
    }

    User "1" -- "0..*" Reservation : makes
    User "1" -- "0..*" Transaction : has
    User "1" -- "0..1" Token : has
    Concert "1" -- "0..*" Schedule : has
    Schedule "1" -- "0..*" Seat : contains
    Seat "1" -- "0..*" Reservation : reserved in
    Reservation "1" -- "1" Transaction : paid by